<!DOCTYPE html><html lang=en><meta http-equiv=Content-Type content="text/html;charset=utf-8"> <meta http-equiv=X-UA-Compatible content="IE=edge"> <meta name=viewport content="width=device-width, initial-scale=1"><title>Turning tweets into vector images</title><meta name=description content="Every now and then, I find myself wanting to turn Tweets into high-quality images. My main reason for doing so is to include an image of the tweet in a prese..."> <link rel=canonical href=https://checkoway.net/musings/tweet-images/> <link rel=stylesheet href=/css/main.css> <script>!function(e,t,a,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(a),s=t.getElementsByTagName(a)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-34500030-2","auto"),ga("send","pageview");</script><main><article class=post vocab=http://schema.org typeof=BlogPosting><div class=post-header><h1 class=post-title property=headline>Turning tweets into vector images</h1><p class=post-meta><time datetime=2017-07-11T00:00:00-04:00 property=datePublished>Jul 11, 2017</time> • <span property=author typeof=Person><span property=name>Stephen Checkoway</span></span></div><div class=post-content property=articleBody><p>Every now and then, I find myself wanting to turn Tweets into high-quality images. My main reason for doing so is to include an image of the tweet in a presentation. The normal procedure I follow is simple:<ol><li>Click on the tweet I want to turn into an image.<li>Create a screenshot of the tweet using (on my Mac) ⇧⌘4.</ol><p>This produces a PNG image with the resolution of my monitor and tends to look quite bad when enlarged: The text and images look blurry.<p>For example, here’s an image of a tweet.<p><img src=/assets/posts/tweet-images/tweet.png alt="Screenshot of a tweet."><p>If you zoom in, the text and my avatar (a picture of two of my adorable cats) gets blurry.<p>This seems silly. With a vector font, we should be able to scale the tweet essentially arbitrarily. And Twitter actually maintains higher-resolution images for profile pictures than what gets served normally.<p>Here’s the solution I came up with.<ol><li><p>Create a <code class=highlighter-rouge>tweet.html</code> document with the following contents.<div class="language-html highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=cp>&lt;!DOCTYPE html&gt;</span>
<span class=nt>&lt;html&gt;</span>
<span class=nt>&lt;body&gt;</span>
	<span class=c>&lt;!-- Insert Twitter embed blockquote code here --&gt;</span>
   
<span class=nt>&lt;script </span><span class=na>async</span> <span class=na>src=</span><span class=s>"https://platform.twitter.com/widgets.js"</span> <span class=na>charset=</span><span class=s>"utf-8"</span><span class=nt>&gt;&lt;/script&gt;</span>
<span class=nt>&lt;script&gt;</span>
	<span class=kd>var</span> <span class=nx>interval</span> <span class=o>=</span> <span class=nx>setInterval</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
		<span class=kd>var</span> <span class=nx>frame</span> <span class=o>=</span> <span class=nb>window</span><span class=p>.</span><span class=nx>frames</span><span class=p>[</span><span class=s2>"twitter-widget-0"</span><span class=p>];</span>
		<span class=k>if</span> <span class=p>(</span><span class=nx>frame</span> <span class=o>==</span> <span class=kc>null</span><span class=p>)</span>
			<span class=k>return</span><span class=p>;</span>
		<span class=kd>var</span> <span class=nx>images</span> <span class=o>=</span> <span class=nx>frame</span><span class=p>.</span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementsByClassName</span><span class=p>(</span><span class=s2>"Avatar"</span><span class=p>);</span>
		<span class=k>if</span> <span class=p>(</span><span class=nx>images</span><span class=p>.</span><span class=nx>length</span> <span class=o>===</span> <span class=mi>0</span><span class=p>)</span>
			<span class=k>return</span><span class=p>;</span>
		<span class=nx>clearInterval</span><span class=p>(</span><span class=nx>interval</span><span class=p>);</span>
		<span class=k>for</span> <span class=p>(</span><span class=kd>var</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>images</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span> <span class=o>++</span><span class=nx>i</span><span class=p>)</span> <span class=p>{</span>
			<span class=nx>images</span><span class=p>[</span><span class=nx>i</span><span class=p>].</span><span class=nx>src</span> <span class=o>=</span> <span class=nx>images</span><span class=p>[</span><span class=nx>i</span><span class=p>].</span><span class=nx>src</span><span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=s2>"_normal"</span><span class=p>,</span> <span class=s2>""</span><span class=p>);</span>
		<span class=p>}</span>
	<span class=p>},</span> <span class=mi>100</span><span class=p>);</span>
<span class=nt>&lt;/script&gt;</span>
<span class=nt>&lt;/body&gt;</span>
<span class=nt>&lt;/html&gt;</span>
</code></pre></div></div><li>Click on the tweet’s “Embed Tweet” option and copy the HTML. (Only the <code class=highlighter-rouge>blockquote</code> element is actually needed, but the following <code class=highlighter-rouge>script</code> element is harmless to include.) Paste the code in <code class=highlighter-rouge>tweet.html</code> in the indicated location.<li>Open tweet.html in a web browser that supports export to PDF functionality. Wait a moment for the page to fully load and then export it as <code class=highlighter-rouge>tweet.pdf</code>. Safari’s “Export to PDF…” option is better than printing to PDF using either Safari or Chrome. I didn’t try other browsers.<li>Finally, <code class=highlighter-rouge>tweet.pdf</code> may need to be cropped. (It does when exporting from Safari.) Any number of tools suffice. I used <code class=highlighter-rouge>pdfcrop</code> which is part of <a href=http://tug.org/texlive/>TeX Live</a>.</ol><p>Creating the images in this manner has three main benefits. First, it actually embeds the fonts used for the text so that resizing the PDF produces correctly scaled fonts. Second, it (appears to) produce vector graphics for the standard tweet styling. Third, (and this is the point of the JavaScript at the end of the template) the low resolution images used by Twitter for avatars are replaced with higher resolution versions.<p>The tweet above becomes the following PDF.</p><object type=application/pdf width=100% height=400px data="/assets/posts/tweet-images/tweet.pdf "> <p>Your browser doesn’t support embedded PDFs. You can download the PDF <a href=/assets/posts/tweet-images/tweet.pdf>here</a>. </object></div><div class=post-footer><p class=post-meta>Last updated <time datetime=2017-07-11T00:00:00-04:00 property=dateModified>Jul 11, 2017</time>.</div></article></main>