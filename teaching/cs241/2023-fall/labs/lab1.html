<!DOCTYPE html><html lang=en><meta http-equiv=Content-Type content="text/html;charset=utf-8"> <meta http-equiv=X-UA-Compatible content="IE=edge"> <meta name=viewport content="width=device-width, initial-scale=1"><title>Lab 1: Introduction to Bash</title><meta name=description content="Lab 1: Introduction to Bash Due: 2023-09-11 at 23:59"> <link rel=canonical href=https://checkoway.net/teaching/cs241/2023-fall/labs/lab1.html> <link rel=stylesheet href=/css/main.css><main><h1 id=lab-1-introduction-to-bash>Lab 1: Introduction to Bash</h1><p><strong>Due: 2023-09-11 at 23:59</strong><p>In this lab, you will explore the Bash shell and learn to use some of the standard command line utilities to<ul><li>navigate the file system;<li>list the contents of a directory;<li>create, move/rename, and delete files and directories;<li>download files from the internet;<li>read manual pages to learn how to use these utilities; and<li>upload files to GitHub.</ul><h2 id=setup>Setup</h2><p>Log in to one of the lab machines and open a terminal by clicking the <code class="language-plaintext highlighter-rouge">Show Applications</code> button in the lower left corner of the desktop and open <code class="language-plaintext highlighter-rouge">Terminal</code>.<h2 id=part-1-navigating-the-file-system>Part 1. Navigating the file system</h2><p>The file system is a hierarchical arrangement of files, grouped into directories. The hierarchy forms a <a href=https://en.wikipedia.org/wiki/Tree_(data_structure)>tree</a> of the sort you learned about in CSCI 151. Each file and directory has a name and we can refer to any file in the file system by giving a <strong>path</strong> through the tree, starting at the root directory and using <code class="language-plaintext highlighter-rouge">/</code> to separate the directories along the path. Some example paths.<ul><li><code class="language-plaintext highlighter-rouge">/</code> The root directory itself<li><code class="language-plaintext highlighter-rouge">/bin/bash</code> The program <code class="language-plaintext highlighter-rouge">bash</code> (this is the shell we’re using right now!) which lives inside the directory <code class="language-plaintext highlighter-rouge">bin</code> which lives inside the root directory<li><code class="language-plaintext highlighter-rouge">/usr/bin/wget</code> The program <code class="language-plaintext highlighter-rouge">wget</code> (this program will let us download files from the internet) which lives in the directory <code class="language-plaintext highlighter-rouge">/usr/bin</code></ul><p>Naming files by starting at the root <code class="language-plaintext highlighter-rouge">/</code> all the time is time-consuming. Each program has a notion of its <strong>current directory</strong>. We can also name files by giving a path from the current directory. Here are some examples.<ul><li><code class="language-plaintext highlighter-rouge">paper.pdf</code> The file <code class="language-plaintext highlighter-rouge">paper.pdf</code> inside the current directory<li><code class="language-plaintext highlighter-rouge">Music/swift.mp3</code> The file <code class="language-plaintext highlighter-rouge">swift.mp3</code> inside the <code class="language-plaintext highlighter-rouge">Music</code> directory inside the current directory</ul><p>The terminal you opened launched the <code class="language-plaintext highlighter-rouge">bash</code> shell and it should be currently running. You should see a prompt in the terminal that looks like <code class="language-plaintext highlighter-rouge">user@clyde:~$</code> (yours will have a different username and hostname—the name of the computer). From here on out, the prompt will be specified only as <code class="language-plaintext highlighter-rouge">$</code>. You should not type the <code class="language-plaintext highlighter-rouge">$</code> character when entering input.<p>Bash has several commands for navigating the file system and listing the contents. The most commonly used commands are<ul><li><code class="language-plaintext highlighter-rouge">cd</code> change current directory; <code class="language-plaintext highlighter-rouge">$ cd /usr/bin</code> changes the current directory to <code class="language-plaintext highlighter-rouge">/usr/bin</code>; with no arguments, <code class="language-plaintext highlighter-rouge">cd</code> changes the current directory to your home directory<li><code class="language-plaintext highlighter-rouge">ls</code> lists the contents of a directory; <code class="language-plaintext highlighter-rouge">$ ls /tmp</code> lists the contents of the directory for temporary files, <code class="language-plaintext highlighter-rouge">/tmp</code>; with no arguments, <code class="language-plaintext highlighter-rouge">ls</code> lists the contents of the current directory<li><code class="language-plaintext highlighter-rouge">pwd</code> prints the current directory (the name stands for “print working directory” where “working directory” just means the current directory.</ul><h3 id=task-1>Task 1</h3><p>Create a file named <code class="language-plaintext highlighter-rouge">task1.txt</code> using a text editor. To do so, click the <code class="language-plaintext highlighter-rouge">Show Applications</code> button in the bottom left corner of the window, and then open <code class="language-plaintext highlighter-rouge">Text Editor</code>.<p>Using the shell commands <code class="language-plaintext highlighter-rouge">cd</code> and <code class="language-plaintext highlighter-rouge">ls</code>, find two different files or directories in each of the following directories<ul><li><code class="language-plaintext highlighter-rouge">/</code><li><code class="language-plaintext highlighter-rouge">/usr</code><li><code class="language-plaintext highlighter-rouge">/usr/bin</code><li><code class="language-plaintext highlighter-rouge">/etc</code></ul><p>Write the names of the 8 different files (and which directory they’re in) in <code class="language-plaintext highlighter-rouge">task1.txt</code>. Save this file in your home directory for now. We’re going to move it later.<p>Use <code class="language-plaintext highlighter-rouge">$ ls ~</code> to print the contents of your home directory (the shell expands a tilde, <code class="language-plaintext highlighter-rouge">~</code>, into the path for your home directory). You should see <code class="language-plaintext highlighter-rouge">task1.txt</code> in that directory listing.<p>Use <code class="language-plaintext highlighter-rouge">$ cat ~/task1.txt</code> to print the contents of the file to the terminal.<h2 id=part-2-manipulating-files-and-directories>Part 2. Manipulating files and directories</h2><p>In Part 1, you created a file in your home directory using a text editor and you were able to see that file in the file system using the <code class="language-plaintext highlighter-rouge">ls</code> command. Now, we’re going to do the opposite: We’re going to manipulate files on the command line and examine the results in the GUI—the graphical user interface.<p>We’re going to be using some new commands.<ul><li><code class="language-plaintext highlighter-rouge">mkdir</code> Creates a new directory<li><code class="language-plaintext highlighter-rouge">cp</code> Copies files or (with a suitable option) directories<li><code class="language-plaintext highlighter-rouge">rm</code> Removes files or (with a suitable option) directories<li><code class="language-plaintext highlighter-rouge">mv</code> Moves (or renames) files and directories<li><code class="language-plaintext highlighter-rouge">rmdir</code> Removes an empty directory (this is less commonly used than <code class="language-plaintext highlighter-rouge">rm</code> for this operation)<li><code class="language-plaintext highlighter-rouge">man</code> This shows a manual page which provides a bunch of information about many of the shell commands and programs<li><code class="language-plaintext highlighter-rouge">wget</code> Downloads files from the Internet</ul><h3 id=task-2>Task 2</h3><p>Create the directory <code class="language-plaintext highlighter-rouge">cs241/lab1</code> in your home directory using the <code class="language-plaintext highlighter-rouge">mkdir</code> command. You may wish to first run <code class="language-plaintext highlighter-rouge">$ cd</code> or equivalently <code class="language-plaintext highlighter-rouge">$ cd ~</code> to change to your home directory.<p>If you try the “obvious” command, you’ll likely encounter a confusing error.<div class="language-plaintext highlighter-rouge"><div class=highlight><pre class=highlight><code>$ mkdir cs241/lab1
mkdir: cannot create directory ‘cs241/lab1’: No such file or director
</code></pre></div></div><p>The problem here isn’t that <code class="language-plaintext highlighter-rouge">cs241/lab1</code> doesn’t exist (which is good because we’re trying to create this directory), the problem is that the <code class="language-plaintext highlighter-rouge">cs241</code> directory doesn’t exist. It’d be great if the error message reflected which component of the path didn’t exist, but alas, it does not.<p>To create the <code class="language-plaintext highlighter-rouge">cs241/lab1</code> directory, you can use two invocations of <code class="language-plaintext highlighter-rouge">mkdir</code>, first to create <code class="language-plaintext highlighter-rouge">cs241</code> and second to create <code class="language-plaintext highlighter-rouge">lab1</code> within it.<p>Move the file <code class="language-plaintext highlighter-rouge">task1.txt</code> you created in Part 1 inside the <code class="language-plaintext highlighter-rouge">cs241/lab1</code> directory using <code class="language-plaintext highlighter-rouge">mv</code>. The basic syntax for the <code class="language-plaintext highlighter-rouge">mv</code> command is<div class="language-plaintext highlighter-rouge"><div class=highlight><pre class=highlight><code>$ mv source destination
</code></pre></div></div><p>Keep in mind that when naming a file with a path, you either need to give it an absolute path starting with <code class="language-plaintext highlighter-rouge">/</code> or you need to give it a path from the current directory. Using <code class="language-plaintext highlighter-rouge">~</code> for your home directory can be a big time saver when the files you want to use are in your home directory (or in a directory in your home directory).<p>Open your home directory using the <code class="language-plaintext highlighter-rouge">Files</code> application from the left sidebar in the desktop. The <code class="language-plaintext highlighter-rouge">task1.txt</code> file should not be there. Open the <code class="language-plaintext highlighter-rouge">cs241/lab1</code> directory. This should contain <code class="language-plaintext highlighter-rouge">task1.txt</code> and nothing else.<p>Create a directory named <code class="language-plaintext highlighter-rouge">books</code> in the <code class="language-plaintext highlighter-rouge">lab1</code> directory using <code class="language-plaintext highlighter-rouge">mkdir</code> (you should see the new directory appear in <code class="language-plaintext highlighter-rouge">Files</code>).<p>Run <code class="language-plaintext highlighter-rouge">$ man wget</code> to pull up the manual page for the <code class="language-plaintext highlighter-rouge">wget</code> program which you can use to download files from the Internet. Press <code class="language-plaintext highlighter-rouge">q</code> to exit <code class="language-plaintext highlighter-rouge">man</code> when you’re done. Run <code class="language-plaintext highlighter-rouge">$ wget --help</code> to see similar information.<p><code class="language-plaintext highlighter-rouge">cd</code> into the <code class="language-plaintext highlighter-rouge">books</code> directory you created and use <code class="language-plaintext highlighter-rouge">wget</code> to download a copy of Bram Stoker’s <em>Dracula</em> from <code class="language-plaintext highlighter-rouge">https://www.gutenberg.org/cache/epub/345/pg345.txt</code>.<p>Rename the file from <code class="language-plaintext highlighter-rouge">pg345.txt</code> to <code class="language-plaintext highlighter-rouge">Stoker, Bram - Dracula.txt</code>. Note that this name has spaces in it. You’ll need to specify it as <code class="language-plaintext highlighter-rouge">'Stoker, Bram - Dracula.txt'</code> or <code class="language-plaintext highlighter-rouge">Stoker,\ Bram\ -\ Dracula.txt</code>.<p>Use <code class="language-plaintext highlighter-rouge">wget</code> again to download James Joyce’s <em>Dubliners</em> from <code class="language-plaintext highlighter-rouge">https://www.gutenberg.org/files/2814/2814-0.txt</code>. Rename it <code class="language-plaintext highlighter-rouge">Joyce, James - Dubliners.txt</code>.<p>At this point, the files and directories in your <code class="language-plaintext highlighter-rouge">cs241</code> directory should look like this.<div class="language-plaintext highlighter-rouge"><div class=highlight><pre class=highlight><code>cs241/
└── lab1
    ├── books
    │&nbsp;&nbsp; ├── Joyce, James - Dubliners.txt
    │&nbsp;&nbsp; └── Stoker, Bram - Dracula.txt
    └── task1.txt
</code></pre></div></div><h2 id=part-3-grepping>Part 3. Grepping</h2><p>The <code class="language-plaintext highlighter-rouge">grep</code> command is used for searching for text files for a “pattern” and printing out each line that matches the pattern. For example, <code class="language-plaintext highlighter-rouge">$ grep vampire 'Stoker, Bram - Dracula.txt'</code> prints out each line containing the word <code class="language-plaintext highlighter-rouge">vampire</code> (in lower case). Try it out!<p>Read <code class="language-plaintext highlighter-rouge">grep</code>’s man page to figure out how to perform a case-insensitive search and run the command to print out all lines matching <code class="language-plaintext highlighter-rouge">vampire</code>, case insensitively. Hint: typing <code class="language-plaintext highlighter-rouge">/case</code> (and then hit enter) while viewing a man page will search for <code class="language-plaintext highlighter-rouge">case</code> in the manual. While searching, you can press <code class="language-plaintext highlighter-rouge">n</code>/<code class="language-plaintext highlighter-rouge">N</code> to go to the next/previous instance.<h3 id=task-3>Task 3.</h3><p>Using a text editor, create the file <code class="language-plaintext highlighter-rouge">task3.txt</code> in the <code class="language-plaintext highlighter-rouge">lab1</code> directory.<p>Use <code class="language-plaintext highlighter-rouge">grep</code> to print out a <em>count</em> of the lines matching <code class="language-plaintext highlighter-rouge">vampire</code> case insensitively. (Search the man page again.) Write the command you used and its output in <code class="language-plaintext highlighter-rouge">task3.txt</code><p>Open the man page for <code class="language-plaintext highlighter-rouge">grep</code> one final time and figure out how to get <code class="language-plaintext highlighter-rouge">grep</code> to print the line numbers (and the lines themselves) that match <code class="language-plaintext highlighter-rouge">Transylvania</code> and then do that. Write the command you used and its output in <code class="language-plaintext highlighter-rouge">task3.txt</code>.<p>Find and use the command to print out a count of every word in both books. Use the <code class="language-plaintext highlighter-rouge">apropos</code> command to search manual pages for keywords. The <code class="language-plaintext highlighter-rouge">-a</code> (or <code class="language-plaintext highlighter-rouge">--and</code>) option to <code class="language-plaintext highlighter-rouge">apropos</code> lets you search for commands that involve all of the key words so <code class="language-plaintext highlighter-rouge">$ apropos -a apple sauce</code> will match commands whose descriptions contain both the words apple and sauce. So use <code class="language-plaintext highlighter-rouge">apropos -a</code> with appropriate keywords to find a command that produces a <em>word count</em>.<p>Run that command on all <code class="language-plaintext highlighter-rouge">.txt</code> files in the <code class="language-plaintext highlighter-rouge">books</code> directory using<div class="language-plaintext highlighter-rouge"><div class=highlight><pre class=highlight><code>$ cmd books/*.txt
</code></pre></div></div><p>where <code class="language-plaintext highlighter-rouge">cmd</code> is the command you found with <code class="language-plaintext highlighter-rouge">apropos</code>.<p>The <code class="language-plaintext highlighter-rouge">*</code> is called a glob and Bash replaces it with all files that match. In this case, <code class="language-plaintext highlighter-rouge">books/*.txt</code> will be replaced with paths to files in the <code class="language-plaintext highlighter-rouge">books</code> directory that end with <code class="language-plaintext highlighter-rouge">.txt</code>. Globs are powerful and make working with multiple files with similar names easy.<p>Put the command you ran and its output in <code class="language-plaintext highlighter-rouge">task3.txt</code>.<p>Finally, read the man page for the command to count words in files and find the option to only print line counts. Use the command on both files. Put the command and the output in <code class="language-plaintext highlighter-rouge">task3.txt</code>.<h2 id=part-4-submitting>Part 4. Submitting</h2><p>In this course, we’re going to be using GitHub. GitHub uses Git which is a version control system used by programmers. We’re going to learn a lot more about Git later, but for now, let’s use its most basic functionality.<h3 id=task-4>Task 4</h3><p>Go to <a href=https://github.com>GitHub</a> and create an account, if you don’t already have one. Many of the courses in the computer science major will require using GitHub so you’ll be well-served by getting comfortable with it now.<p>XXX: Figure out good instructions for submitting!<p>Go to the <a href=https://classroom.github.com/a/_G3bH0WV>GitHub Classroom assignment page</a> and accept the assignment. Wait a few seconds and then reload the page and you should see “You’re ready to go!” Click the link for the assignment repository.<p>The repository it created should be at a URL like <code class="language-plaintext highlighter-rouge">https://github.com/systems-programming/lab1-accountname</code>.<p>XXX: clone the repo.<p>Copy all of the files and directories from <code class="language-plaintext highlighter-rouge">lab1</code> into the newly-created local repository’s directory. Read the man page for <code class="language-plaintext highlighter-rouge">cp</code> to figure out how to <em>recursively</em> copy directories.<p><code class="language-plaintext highlighter-rouge">cd</code> to your local repository directory. The contents of this directory (recursively) should look like this.<div class="language-plaintext highlighter-rouge"><div class=highlight><pre class=highlight><code>.
├── books
│&nbsp;&nbsp; ├── Joyce, James - Dubliners.txt
│&nbsp;&nbsp; └── Stoker, Bram - Dracula.txt
├── task1.txt
└── task3.txt
</code></pre></div></div><p>(I used the <code class="language-plaintext highlighter-rouge">tree</code> program to produce this listing. Try it out!)<p>We want to add the files to the repository, commit them, and then push them to GitHub. (We’ll talk about why there are separate steps later. You can think of these three operations as “inform Git about the current state of the files,” “have Git make a snapshot of the current state of the repository,” and “tell GitHub about the changes we made in the local repository.”<p>These are the commands you need to run.<div class="language-plaintext highlighter-rouge"><div class=highlight><pre class=highlight><code>$ git add books task1.txt task3.txt
$ git commit -m 'Submitting lab 1'
$ git push
</code></pre></div></div><p>The <code class="language-plaintext highlighter-rouge">-m 'Submitting lab 1'</code> causes Git to create a commit <em>message</em> with the contents <code class="language-plaintext highlighter-rouge">Submitting lab 1</code>. Normally, we’ll want to create more descriptive messages, but this is fine for now.<p>At this point, you’re done! You can check that everything worked correctly by going back to your repository on GitHub and checking that all of the files and directories show up. You should see two directories and two files:<ul><li><code class="language-plaintext highlighter-rouge">.github</code><li><code class="language-plaintext highlighter-rouge">books</code><li><code class="language-plaintext highlighter-rouge">task1.txt</code><li><code class="language-plaintext highlighter-rouge">task3.txt</code></ul><p>(The <code class="language-plaintext highlighter-rouge">.github</code> directory was added automatically by GitHub Classroom. So why didn’t it show up in your local repo? Because its name starts with a period! By default, files that start with a period are hidden. If you want to see them using <code class="language-plaintext highlighter-rouge">ls</code>, you can use <code class="language-plaintext highlighter-rouge">ls -a</code>. If you do this, you’ll see a <code class="language-plaintext highlighter-rouge">.git</code> directory too. <code class="language-plaintext highlighter-rouge">.git</code> is where Git stores its local configuration.)<p>Finally, you can remove your <code class="language-plaintext highlighter-rouge">lab1</code> directory that we started with now that you’ve copied everything over to your local repository for lab 1. Since <code class="language-plaintext highlighter-rouge">lab1</code> isn’t empty, <code class="language-plaintext highlighter-rouge">$ rmdir lab1</code> won’t work to remove it. And since it’s a directory, <code class="language-plaintext highlighter-rouge">$ rm lab1</code> work work either! Go ahead and try both commands out.<p>Read the man page for <code class="language-plaintext highlighter-rouge">rm</code> to figure out how to remove directories <em>recursively</em>.</main>