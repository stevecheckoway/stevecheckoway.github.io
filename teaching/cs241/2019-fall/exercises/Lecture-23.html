<!DOCTYPE html><html lang=en><meta http-equiv=Content-Type content="text/html;charset=utf-8"> <meta http-equiv=X-UA-Compatible content="IE=edge"> <meta name=viewport content="width=device-width, initial-scale=1"><title>Lecture 23</title><meta name=description content="Lecture 23 – Nov 4th, 2019"> <link rel=canonical href=https://checkoway.net/teaching/cs241/2019-fall/exercises/Lecture-23.html> <link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css integrity=sha384-TEMocfGvRuD1rIAacqrknm5BQZ7W7uWitoih+jMNFXQIbNl16bO8OZmylH/Vi/Ei crossorigin=anonymous> <link rel=stylesheet href=/css/main.css> <script>!function(e,t,a,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(a),s=t.getElementsByTagName(a)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-34500030-2","auto"),ga("send","pageview")</script><main><h1 id=lecture-23--nov-4th-2019>Lecture 23 – Nov 4th, 2019</h1><h2 id=setup>Setup</h2><ol><li>Log in to clyde.<li><code class=highlighter-rouge>$ cp -r ~steve/ex/funptr .</code></ol><h2 id=task>Task</h2><ol><li><p>Look at <code class=highlighter-rouge>fold.c</code>. The <code class=highlighter-rouge>foldl()</code> function at the top of the file is an instance of a <a href=https://en.wikipedia.org/wiki/Fold_%28higher-order_function%29>fold</a>. It takes an array of integers (and its size), an initial value, and a pointer to a function of two <code class=highlighter-rouge>int</code>s that returns an <code class=highlighter-rouge>int</code>. It iterates through the array, applying the function to <code class=highlighter-rouge>initial</code> and the next element in the list, updating <code class=highlighter-rouge>initial</code> each time.<p>Write a function <code class=highlighter-rouge>add</code> such that <code class=highlighter-rouge>foldl(num, arr, 0, add)</code> computes the sum of the <code class=highlighter-rouge>num</code> integers in <code class=highlighter-rouge>arr</code>. Have <code class=highlighter-rouge>main</code> print out the result of that.<li>Write a function <code class=highlighter-rouge>mult</code> that you can use with <code class=highlighter-rouge>foldl</code> to produce the project of all the integers in the array. Print that result out too.<li>Do the same thing but with <code class=highlighter-rouge>min</code> and <code class=highlighter-rouge>max</code> to compute the minimum and maximum. You may want to use <code class=highlighter-rouge>INT_MIN</code> and <code class=highlighter-rouge>INT_MAX</code>.<li><p>Write a function <code class=highlighter-rouge>print</code> that you can use with <code class=highlighter-rouge>foldl</code> to print out (via <code class=highlighter-rouge>printf(3)</code>) each of the elements in the array.<p>When you run your code, you should get something like this.<div class=highlighter-rouge><div class=highlight><pre class=highlight><code>$ ./fold
array: -8 2 5 19 20 -72
sum: -34
product: 2188800
min: -72
max: 20
</code></pre></div></div><li>Look at <code class=highlighter-rouge>courses.c</code>. Add your other courses to the array. Implement the appropriate comparison functions to be used with <code class=highlighter-rouge>qsort(3)</code> to sort the list of courses by (1) start time, (2) department and number, and (3) department and number but have CSCI courses first. Print out the course list after sorting by each of these using the provided <code class=highlighter-rouge>print_courses()</code>.</ol></main>