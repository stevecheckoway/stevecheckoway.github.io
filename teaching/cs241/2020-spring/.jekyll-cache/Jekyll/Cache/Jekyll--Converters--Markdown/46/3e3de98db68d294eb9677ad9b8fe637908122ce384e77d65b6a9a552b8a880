I"-<h1 id="lecture-12--feb-28th-2020">Lecture 12 â€“ Feb 28th, 2020</h1>

<h2 id="setup">Setup</h2>
<ol>
  <li>Log in to clyde.</li>
  <li>Create a directory and <code class="highlighter-rouge">cd</code> into it.</li>
  <li>Copy <code class="highlighter-rouge">~steve/ex/parse_int.c</code> into the directory.</li>
</ol>

<h2 id="task">Task</h2>
<ol>
  <li>Read through <code class="highlighter-rouge">parse_int.c</code> and try to understand what it is doing. Looking
at the man page for <code class="highlighter-rouge">getchar(3)</code> and <code class="highlighter-rouge">isdigit(3)</code> is going to be helpful.</li>
  <li>Compile <code class="highlighter-rouge">parse_int</code> and run it. Itâ€™s expecting input from <code class="highlighter-rouge">stdin</code>, so
you can either type into the terminal while itâ€™s running. Itâ€™ll receive
input one line at a time so be sure to hit return/enter and if you want to
signal the end of the input, press control-d (on an otherwise blank line).
You can also run <code class="highlighter-rouge">$ echo 12345 | ./parse_int</code>.</li>
  <li>Edit <code class="highlighter-rouge">parse_int.c</code> and change <code class="highlighter-rouge">num_value</code> so that it returns <code class="highlighter-rouge">0</code> on input
<code class="highlighter-rouge">'0'</code>, <code class="highlighter-rouge">1</code> on input <code class="highlighter-rouge">'1'</code>, and so on up to <code class="highlighter-rouge">9</code> on input â€˜<code class="highlighter-rouge">9</code>â€™. You can
assume the input is in ASCII (take a look at the <code class="highlighter-rouge">ascii(7)</code> man page for
handy tables of values) and in particular, â€˜0â€™â€“â€˜9â€™ are consecutive values.
Thus <code class="highlighter-rouge">ch - '0'</code> is probably useful to you.</li>
  <li>Modify the behavior of <code class="highlighter-rouge">parse_int.c</code> so that it reads a positive integer
(in decimal) one character at a time (until a non-digit is read). Print out
the value of the integer times 7.
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ echo 0 | ./parse_int
0 * 7 = 0
$ echo 1 | ./parse_int
1 * 7 = 7
$ echo 12345 | ./parse_int
12345 * 7 = 86415
</code></pre></div>    </div>

    <p>Recall, $539$ means
<script type="math/tex">5\cdot10^2 + 3\cdot10^1 + 9\cdot10^0 = (5\cdot10^1 + 3\cdot10^0)\cdot10 + 9.</script>
But notice that the number in the parentheses is just $53$. Therefore, if
<code class="highlighter-rouge">val</code> is our current value, then after reading in another digit, we need to
multiply <code class="highlighter-rouge">val</code> by 10 and add the value of the digit.</p>
  </li>
  <li>Modify the behavior of <code class="highlighter-rouge">parse_int.c</code> again so that instead of reading just
one integer, it reads two integers, separated by a <code class="highlighter-rouge">+</code>, adds them together,
and prints out the result.
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ echo 32527+1256289 | ./parse_int
32527 + 1256289 = 1288816
</code></pre></div>    </div>
  </li>
  <li>Modify <code class="highlighter-rouge">parse_int.c</code> one more time so that if the two numbers are separated
by <code class="highlighter-rouge">+</code>, it adds them; by <code class="highlighter-rouge">-</code>, it subtracts the second from the first; by <code class="highlighter-rouge">*</code>,
it multiples them; and by <code class="highlighter-rouge">/</code>, it divides the first by the second. What
happens if you try to divide by 0? Handle that gracefully.</li>
</ol>
:ET