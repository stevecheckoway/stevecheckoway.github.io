<!DOCTYPE html><html lang=en><meta http-equiv=Content-Type content="text/html;charset=utf-8"> <meta http-equiv=X-UA-Compatible content="IE=edge"> <meta name=viewport content="width=device-width, initial-scale=1"><title>Lecture 6</title><meta name=description content="Lecture 6 – Feb 14th, 2020"> <link rel=canonical href=https://checkoway.net/teaching/cs241/2020-spring/exercises/Lecture-06.html> <link rel=stylesheet href=/css/main.css><main><h1 id=lecture-6--feb-14th-2020>Lecture 6 – Feb 14th, 2020</h1><h2 id=setup>Setup</h2><ol><li>Log in to clyde.<li>Create a directory and <code class=highlighter-rouge>cd</code> into it.<li>Copy <code class=highlighter-rouge>~steve/ex/guess</code> to the current directory. (Remember, bash will expand <code class=highlighter-rouge>~steve</code> to be Prof. Checkoway’s home directory.)</ol><h2 id=task>Task</h2><ol><li><p>Modify <code class=highlighter-rouge>guess</code> to make it interactive by letting the user make multiple guesses until the answer is correct using either a <code class=highlighter-rouge>while</code> or <code class=highlighter-rouge>until</code> loop.<p>To make it “fun,” you probably shouldn’t print out the correct answer on a wrong guess. Mine looks like this<div class=highlighter-rouge><div class=highlight><pre class=highlight><code>steve@clyde:~/blah$ ./guess
Guess a number between 1 and 10: 1
Incorrect. Guess again: 3
Incorrect. Guess again: 8
Good guess!
</code></pre></div></div><li><p>Write a new script <code class=highlighter-rouge>high-low</code> that picks a random number between 1 and 100 and then asks the user to guess the value. After each guess, if the answer is incorrect, tell the user if the correct value is higher or lower. After the user guesses correctly, tell them how many guesses it took.<p>Remember, <code class=highlighter-rouge>&lt;</code> and <code class=highlighter-rouge>&gt;</code> are for comparing strings. You need to use <code class=highlighter-rouge>-lt</code> and <code class=highlighter-rouge>-gt</code> to compare integers. If you wish, you can use the <code class=highlighter-rouge>break</code> command to break out of loops.<p>Mine looks like this.<div class=highlighter-rouge><div class=highlight><pre class=highlight><code>steve@clyde:~/blah$ ./high-low
Guess a number between 1 and 100: 50
50 is too low. Guess again: 75
75 is too high. Guess again: 63
63 is too high. Guess again: 57
57 is too high. Guess again: 53
53 is too low. Guess again: 55
55 is too low. Guess again: 56
You got it in 7 guesses.
</code></pre></div></div><li>Write a new script <code class=highlighter-rouge>scripts</code> that outputs the name of all files in <code class=highlighter-rouge>/usr/bin</code> that are shell scripts. You can identify if a file is a shell script by running the <code class=highlighter-rouge>file</code> command on the file. This will print out a one line description about the file. For example, <div class=highlighter-rouge><div class=highlight><pre class=highlight><code>steve@clyde:~/blah$ file /usr/bin/zipgrep
/usr/bin/zipgrep: POSIX shell script, ASCII text executable
steve@clyde:~/blah$ file /usr/bin/awk
/usr/bin/awk: symbolic link to /etc/alternatives/awk
steve@clyde:~/blah$ file /usr/bin/host
/usr/bin/host: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/l, for GNU/Linux 3.2.0, BuildID[sha1]=c3ab218fd658e9fd02c6636bfc5a5d9b4a068737, stripped
</code></pre></div></div><p>Check out the <code class=highlighter-rouge>-q</code> option in the man page for <code class=highlighter-rouge>grep</code> and remember that the “then” arm of an <code class=highlighter-rouge>if</code> statement runs when the <code class=highlighter-rouge>cmd</code> in <code class=highlighter-rouge>if cmd; then</code> returns 0.<li>Run <code class=highlighter-rouge>shellcheck</code> on <code class=highlighter-rouge>guess</code>, <code class=highlighter-rouge>high-low</code>, and scripts. Fix any errors or warnings. E.g., “SC2086: Double quote to prevent globbing and word splitting.” means you should add some double quotes around your use of variables.</ol></main>