<!DOCTYPE html><html lang=en><meta http-equiv=Content-Type content="text/html;charset=utf-8"> <meta http-equiv=X-UA-Compatible content="IE=edge"> <meta name=viewport content="width=device-width, initial-scale=1"><title>Homework 4: More higher-order functions</title><meta name=description content="Homework 4: More higher-order functions Due: 2021-07-02 at 23:59"> <link rel=canonical href=https://checkoway.net/teaching/cs275/2021-fall/homeworks/hw4.html> <link rel=stylesheet href=/css/main.css><style>ol>li{margin:1em}</style><main><h1 id=homework-4-more-higher-order-functions>Homework 4: More higher-order functions</h1><p><strong>Due: 2021-07-02 at 23:59</strong><section><p>The goal for this assignment is to practice using folds and working with data structures. There are many ways to implement these functions. Using <code class="language-plaintext highlighter-rouge">foldl</code>, <code class="language-plaintext highlighter-rouge">foldr</code>, <code class="language-plaintext highlighter-rouge">map</code>, and <code class="language-plaintext highlighter-rouge">apply</code> can make your solutions more concise.<p>Your implementations of the following functions should all be placed in a single Racket file named <code class="language-plaintext highlighter-rouge">hw4.rkt</code>. The corresponding tests for each function should be in a second Racket file named <code class="language-plaintext highlighter-rouge">tests.rkt</code>.<p>You may use the solution to any exercise as a helper function in subsequent exercises and you may also write stand-alone helper functions.<p>The start of each file should be<div class="language-scheme highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=o>#</span><span class=nv>lang</span> <span class=nv>racket</span>
<span class=c1>; Your name(s) here.</span>
</code></pre></div></div><h2 id=preliminaries>Preliminaries</h2><p>Click on the <a href=https://classroom.github.com/g/W7vep6zh>assignment link</a>. If you’re working with a partner, one partner should create a new team. The second partner should click the link and choose the appropriate team. (Please don’t choose the wrong team, there’s a maximum of two people and if you join the wrong one, you’ll prevent the correct person from joining.)<p>Once you have accepted the assignment and created/joined a team, you can clone the repository on your computer by following the instruction and begin working. But before you do, read the entire assignment and be sure to check out the expected <a href=hw1.html#coding-style>coding style from the first homework</a>.<p>Be sure to ask any questions on <a href=https://piazza.com/oberlin/summer2021/cs275>Piazza</a>.<h3 id=submission>Submission</h3><p>To submit your homework, you must commit and push to GitHub before the deadline.<p>Your repository should contain the following files<ul><li><code class="language-plaintext highlighter-rouge">hw4.rkt</code><li><code class="language-plaintext highlighter-rouge">tests.rkt</code><li><code class="language-plaintext highlighter-rouge">TreeDatatype.rkt</code></ul><p>It may also a <a href=https://git-scm.com/docs/gitignore><code class="language-plaintext highlighter-rouge">.gitignore</code></a> file which tells Git to ignore files matching patterns in your working directory.<p>Any additional files you have added to your repository should be removed from the <code class="language-plaintext highlighter-rouge">main</code> branch. (You’re free to make other branches, if you desire, but make sure <code class="language-plaintext highlighter-rouge">main</code> contains the version of the code you want graded.)<p>Make sure you put your name (and your partner’s name if you’re working with one) as a comment at the top of each file.</section><section><h2 id=part-1-folds>Part 1. Folds</h2><p>For each function, write the function and a test suite and add the test suite to the <code class="language-plaintext highlighter-rouge">all-tests</code> test suite. You might want to write the tests first. If you’ve forgotten how to write tests, consult <a href=hw1.html>homework 1</a>.<p>For each of these, use either <code class="language-plaintext highlighter-rouge">foldl</code> or <code class="language-plaintext highlighter-rouge">foldr</code>.<ol><li>Use a fold to write <code class="language-plaintext highlighter-rouge">(index x lst)</code> which returns the 0-based index of <code class="language-plaintext highlighter-rouge">x</code> in <code class="language-plaintext highlighter-rouge">lst</code> or <code class="language-plaintext highlighter-rouge">-1</code> if <code class="language-plaintext highlighter-rouge">x</code> is not an element of <code class="language-plaintext highlighter-rouge">lst</code>. <ul><li><code class="language-plaintext highlighter-rouge">(index 3 '(2 4 3 1 2 3))</code> returns <code class="language-plaintext highlighter-rouge">2</code><li><code class="language-plaintext highlighter-rouge">(index 3 '(2 4 6 4 2))</code> returns <code class="language-plaintext highlighter-rouge">-1</code></ul><li>Use a fold to write <code class="language-plaintext highlighter-rouge">(replace a b lst)</code> which replaces every instance of <code class="language-plaintext highlighter-rouge">a</code> with <code class="language-plaintext highlighter-rouge">b</code>. <ul><li><code class="language-plaintext highlighter-rouge">(replace 3 5 '(1 2 3 5 4 3 2 1))</code> returns <code class="language-plaintext highlighter-rouge">'(1 2 5 5 4 5 2 1)</code><li><code class="language-plaintext highlighter-rouge">(replace 3 5 '(2 4 6 8))</code> returns <code class="language-plaintext highlighter-rouge">'(2 4 6 8)</code></ul><li>Assume <code class="language-plaintext highlighter-rouge">bags</code> is globally defined to be an association list containing sublists of two elements. Each sublist represents the name of a piece of luggage and its respective weight where the first element is the name of the piece of luggage and the second element is its weight. For example, we might have <div class="language-racket highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=p>(</span><span class=k>define</span> <span class=nv>bags</span>
  <span class=o>'</span><span class=p>((</span><span class=nf>duffle</span> <span class=mi>8</span><span class=p>)</span>
    <span class=p>(</span><span class=nf>garment-bag</span> <span class=mi>2</span><span class=p>)</span>
    <span class=p>(</span><span class=nf>briefcase</span> <span class=mi>5</span><span class=p>)</span>
    <span class=p>(</span><span class=nf>valise</span> <span class=mi>7</span><span class=p>)</span>
    <span class=p>(</span><span class=nf>steamer-trunk</span> <span class=mi>65</span><span class=p>)))</span>
</code></pre></div></div><p>Using a fold, write a procedure <code class="language-plaintext highlighter-rouge">(weigh bags)</code> which takes a baggage list and returns the total weight.<ul><li>Given the list shown, <code class="language-plaintext highlighter-rouge">(weigh bags)</code> returns 87</ul><li>Using a fold, write a procedure <code class="language-plaintext highlighter-rouge">(heaviest bags)</code> which returns the name of the bag with the largest weight where <code class="language-plaintext highlighter-rouge">bags</code> is an association list as described in (3). You may assume no bag has negative weight. <ul><li>Given the list shown in (3), <code class="language-plaintext highlighter-rouge">(heaviest bags)</code> returns <code class="language-plaintext highlighter-rouge">'steamer-trunk</code></ul></ol></section><section><h2 id=part-2-trees>Part 2. Trees</h2><p>In this part, you will write a number of procedures that involve trees. Recall that a tree is a data structure that is either empty or contains some data and has a list of children, each of which is a tree.<p>I have provided a definition of a tree data structure in the file <code class="language-plaintext highlighter-rouge">TreeDatatype.rkt</code>.<p>In order to use the definitions in <code class="language-plaintext highlighter-rouge">TreeDatatype.rkt</code>, you need to add the line<div class="language-racket highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=p>(</span><span class=k>require</span> <span class=s>"TreeDatatype.rkt"</span><span class=p>)</span>
</code></pre></div></div><p>below the <code class="language-plaintext highlighter-rouge">#lang racket</code> line at the top of <code class="language-plaintext highlighter-rouge">hw4.rkt</code>.<p>This particular implementation represents an empty tree as <code class="language-plaintext highlighter-rouge">null</code>. (This is the same representation as the empty list.) For clarity, <code class="language-plaintext highlighter-rouge">empty-tree</code> is defined as <code class="language-plaintext highlighter-rouge">null</code> and can be used to denote an empty tree.<div class="language-racket highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=p>(</span><span class=k>define</span> <span class=nv>empty-tree</span> <span class=nv>null</span><span class=p>)</span>
</code></pre></div></div><p>A new tree can be constructed from a value and a list of children.<div class="language-racket highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=p>(</span><span class=nf>tree</span> <span class=nv>value</span> <span class=p>(</span><span class=nb>list</span> <span class=nv>child-1</span> <span class=nv>child-2</span> <span class=o>...</span> <span class=nv>child-n</span><span class=p>))</span>
</code></pre></div></div><p>For convenience, there’s another constructor.<div class="language-racket highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=p>(</span><span class=nf>make-tree</span> <span class=nv>value</span> <span class=nv>child-1</span> <span class=nv>child-2</span> <span class=o>...</span> <span class=nv>child-n</span><span class=p>)</span>
</code></pre></div></div><p>There are two recognizers that you’ll find extremely useful.<div class="language-racket highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=p>(</span><span class=nf>empty-tree?</span> <span class=nv>t</span><span class=p>)</span> <span class=c1>; Returns #t if t is an empty tree</span>
<span class=p>(</span><span class=nf>tree?</span> <span class=nv>t</span><span class=p>)</span>       <span class=c1>; Returns #t if t is a tree</span>
</code></pre></div></div><p>Three are two accessor procedures which, when given a tree, return the value and the list of children, respectively.<div class="language-racket highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=p>(</span><span class=nf>tree-value</span> <span class=nv>t</span><span class=p>)</span>    <span class=c1>; Returns t's value</span>
<span class=p>(</span><span class=nf>tree-children</span> <span class=nv>t</span><span class=p>)</span> <span class=c1>; Returns t's list of children</span>
</code></pre></div></div><p>There’s a utility procedure which returns <code class="language-plaintext highlighter-rouge">#t</code> when the given tree is a leaf (has no children).<div class="language-racket highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=p>(</span><span class=nf>leaf?</span> <span class=nv>t</span><span class=p>)</span> <span class=c1>; Returns #t if t has no children</span>
</code></pre></div></div><p>Finally, there are eight example trees defined<div class="language-racket highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=p>(</span><span class=k>define</span> <span class=nv>T1</span> <span class=p>(</span><span class=nf>make-tree</span> <span class=mi>50</span><span class=p>))</span>
<span class=p>(</span><span class=k>define</span> <span class=nv>T2</span> <span class=p>(</span><span class=nf>make-tree</span> <span class=mi>22</span><span class=p>))</span>
<span class=p>(</span><span class=k>define</span> <span class=nv>T3</span> <span class=p>(</span><span class=nf>make-tree</span> <span class=mi>10</span><span class=p>))</span>
<span class=p>(</span><span class=k>define</span> <span class=nv>T4</span> <span class=p>(</span><span class=nf>make-tree</span> <span class=mi>5</span><span class=p>))</span>
<span class=p>(</span><span class=k>define</span> <span class=nv>T5</span> <span class=p>(</span><span class=nf>make-tree</span> <span class=mi>17</span><span class=p>))</span>
<span class=p>(</span><span class=k>define</span> <span class=nv>T6</span> <span class=p>(</span><span class=nf>make-tree</span> <span class=mi>73</span> <span class=nv>T1</span> <span class=nv>T2</span> <span class=nv>T3</span><span class=p>))</span>
<span class=p>(</span><span class=k>define</span> <span class=nv>T7</span> <span class=p>(</span><span class=nf>make-tree</span> <span class=mi>100</span> <span class=nv>T4</span> <span class=nv>T5</span><span class=p>))</span>
<span class=p>(</span><span class=k>define</span> <span class=nv>T8</span> <span class=p>(</span><span class=nf>make-tree</span> <span class=mi>16</span> <span class=nv>T6</span> <span class=nv>T7</span><span class=p>))</span>
</code></pre></div></div><p>All of this code is in <code class="language-plaintext highlighter-rouge">TreeDatatype.rtk</code>. Take a look at that file to understand how the implementation works.<p>You should use <code class="language-plaintext highlighter-rouge">map</code>, <code class="language-plaintext highlighter-rouge">apply</code>, and <code class="language-plaintext highlighter-rouge">fold</code> to make your solutions concise. All of your procedures should be written using the tree operations defined above. Don’t directly manipulate the list representation. As usual, if the solution to an earlier problem is useful in a later one, you may use it.<p>As with Part 1, write tests for each of these functions in addition to implementing them.<ol start=5><li>Write <code class="language-plaintext highlighter-rouge">(child-sum t)</code> which returns the sum of the values in the children of <code class="language-plaintext highlighter-rouge">t</code>. <ul><li><code class="language-plaintext highlighter-rouge">(child-sum T8)</code> returns <code class="language-plaintext highlighter-rouge">173</code><li><code class="language-plaintext highlighter-rouge">(child-sum T6)</code> returns <code class="language-plaintext highlighter-rouge">82</code><li><code class="language-plaintext highlighter-rouge">(child-sum empty-tree)</code> returns <code class="language-plaintext highlighter-rouge">0</code></ul><li>Write <code class="language-plaintext highlighter-rouge">(all-sum t)</code> which returns the sum of all of the values in <code class="language-plaintext highlighter-rouge">t</code>. <ul><li><code class="language-plaintext highlighter-rouge">(all-sum T8)</code> returns <code class="language-plaintext highlighter-rouge">293</code><li><code class="language-plaintext highlighter-rouge">(all-sum T6)</code> returns <code class="language-plaintext highlighter-rouge">155</code><li><code class="language-plaintext highlighter-rouge">(all-sum empty-tree)</code> returns <code class="language-plaintext highlighter-rouge">0</code></ul><li><p>Write <code class="language-plaintext highlighter-rouge">(visit-tree f t)</code> where <code class="language-plaintext highlighter-rouge">f</code> is a function of one numerical variable. This returns a new tree with the same structure only every value <code class="language-plaintext highlighter-rouge">v</code> in the tree has been replaced with <code class="language-plaintext highlighter-rouge">(f v)</code>. For example, <code class="language-plaintext highlighter-rouge">(visit-tree add1 t)</code> increments every value in <code class="language-plaintext highlighter-rouge">t</code> by 1.<li>Write <code class="language-plaintext highlighter-rouge">(sizeof t)</code> which returns the number of nodes in the subtree rooted at <code class="language-plaintext highlighter-rouge">t</code>. <ul><li><code class="language-plaintext highlighter-rouge">(sizeof T8)</code> returns <code class="language-plaintext highlighter-rouge">8</code><li><code class="language-plaintext highlighter-rouge">(sizeof T6)</code> returns <code class="language-plaintext highlighter-rouge">4</code></ul><li>Write <code class="language-plaintext highlighter-rouge">(height t)</code> which returns the height of the tree, the maximum number of edges from the root to the leaf. The empty tree has height <code class="language-plaintext highlighter-rouge">-1</code>, a leaf has height 0, and so forth. <ul><li><code class="language-plaintext highlighter-rouge">(height empty-tree)</code> returns <code class="language-plaintext highlighter-rouge">-1</code><li><code class="language-plaintext highlighter-rouge">(height T1)</code> returns <code class="language-plaintext highlighter-rouge">0</code><li><code class="language-plaintext highlighter-rouge">(height T8)</code> returns <code class="language-plaintext highlighter-rouge">2</code></ul><li>Write <code class="language-plaintext highlighter-rouge">(preorder t)</code> which returns a flat list of values in the tree that would result from a <a href=https://en.wikipedia.org/wiki/Tree_traversal#Pre-order_(NLR)>pre-order traversal</a>. <ul><li><code class="language-plaintext highlighter-rouge">(preorder T8)</code> returns <code class="language-plaintext highlighter-rouge">'(16 73 50 22 10 100 5 17)</code></ul><li>Write <code class="language-plaintext highlighter-rouge">(postorder t)</code> which returns a flat list of values in the tree that would result from a <a href=https://en.wikipedia.org/wiki/Tree_traversal#Post-order_(LRN)>post-order traversal</a>. <ul><li><code class="language-plaintext highlighter-rouge">(postorder T8)</code> returns <code class="language-plaintext highlighter-rouge">'(50 22 10 73 5 17 100 16)</code></ul></ol></section><section><h2 id=finishing-up>Finishing up</h2><p>Make sure you wrote tests of all of these, the test suite for each function is included in the <code class="language-plaintext highlighter-rouge">all-tests</code> test suite, and your tests pass. For reference, my solution involves 36 tests in total and when I run <code class="language-plaintext highlighter-rouge">(test/gui all-tests)</code>, I get this.<br><img src=hw4-tests.png alt="RackUnit tests"><p>Make sure you commit and push.</section></main>